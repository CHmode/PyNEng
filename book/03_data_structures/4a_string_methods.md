### Полезные методы для работы со строками

Так как конфигурационный файл - это просто текстовый файл, при автоматизации, очень часто надо будет работать со строками.

Знание различных методов (то есть, действий), которые можно применять к строкам, помогает более эффективно работать с ними.

> Чаще всего эти методы будут применяться в циклах, при обработке файла.


####```upper(), lower(), swapcase(), capitalize()```

Методы __```upper()```__, __```lower()```__, __```swapcase()```__, __```capitalize()```__ выполняют преобразование регистра строки:
```python
In [25]: string1 = 'FastEthernet'

In [26]: string1.upper()
Out[26]: 'FASTETHERNET'

In [27]: string1.lower()
Out[27]: 'fastethernet'

In [28]: string1.swapcase()
Out[28]: 'fASTeTHERNET'

In [29]: string2 = 'tunnel 0'

In [30]: string2.capitalize()
Out[30]: 'Tunnel 0'
```

Очень важно обращать внимание на то, что часто методы возвращают преобразованную строку. И, значит, надо не забыть присвоить ее какой-то переменной (можно той же).
```python
In [31]: string1 = string1.upper()

In [32]: print(string1)
FASTETHERNET
```

Так происходит из-за того, что строка это неизменяемый тип данных.

####```count()```

Метод __```count()```__ используется для подсчета того, сколько раз символ или подстрока, встречаются в строке:
```python
In [33]: string1 = 'Hello, hello, hello, hello'

In [34]: string1.count('hello')
Out[34]: 3

In [35]: string1.count('ello')
Out[35]: 4

In [36]: string1.count('l')
Out[36]: 8
```

####```find()```
Методу __```find()```__ можно передать подстроку или символ и он покажет на какой позиции находится первый символ подстроки (для первого совпадения):
```python
In [37]: string1 = 'interface FastEthernet0/1'

In [38]: string1.find('Fast')
Out[38]: 10

In [39]: string1[string1.find('Fast')::]
Out[39]: 'FastEthernet0/1'
```

####```startswith(), endswith()```
Проверка на то начинается (или заканчивается) ли строка на определенные символы (методы __```startswith()```__, __```endswith()```__):
```python
In [40]: string1 = 'FastEthernet0/1'

In [41]: string1.startswith('Fast')
Out[41]: True

In [42]: string1.startswith('fast')
Out[42]: False

In [43]: string1.endswith('0/1')
Out[43]: True

In [44]: string1.endswith('0/2')
Out[44]: False
```
####```replace()```
Замена последовательности символов в строке, на другую последовательность (метод __```replace()```__):
```python
In [45]: string1 = 'FastEthernet0/1'

In [46]: string1.replace('Fast', 'Gigabit')
Out[46]: 'GigabitEthernet0/1'
```

####```strip()```

Часто при обработке файла, файл открывается построчно.
Но в конце каждой строки, как правило, есть какие-то спецсимволы (а могут быть и вначале). Например, перевод строки.

Для того, чтобы избавиться от них, очень удобно использовать метод __```strip()```__:
```python
In [47]: string1 = '\n\tinterface FastEthernet0/1\n'

In [48]: print(string1)

	interface FastEthernet0/1


In [49]: string1
Out[49]: '\n\tinterface FastEthernet0/1\n'

In [50]: string1.strip()
Out[50]: 'interface FastEthernet0/1'
```

Метод strip() убирает спецсимволы и в начале и в конце строки.
Если необходимо убрать символы только слева или только справа, можно использовать, соответственно, методы __```lstrip()```__ и __```rstrip()```__.

####```split()```

Метод __```split()```__ разбивает строку на части, используя как разделитель какой-то символ (или символы).
По умолчанию, в качестве разделителя используются пробелы.
Но в скобках можно указать любой разделитель.

В результате, строка будет разбита на части по указанному разделителю и представлена в виде частей, которые содержатся в списке:
```python
In [53]: string1 = ' switchport trunk allowed vlan 10,20,30,100-200\n'

In [54]: commands = string1.strip().split()

In [55]: print(commands)
['switchport', 'trunk', 'allowed', 'vlan', '10,20,30,100-200']

In [56]: vlans = commands[-1].split(',')

In [57]: print(vlans)
['10', '20', '30', '100-200']
```

В строке string1 был символ пробела в начале и символ перевода строки в конце.
В строке номер 54, с помощью метода ```strip()```, эти символы удаляются.

Метод ```strip()``` возвращает строку, которая обрабатывается методом ```split()``` и разделяет строку на части, используя пробел, как разделитель. Итоговая строка присваивается переменной commands.

Используя тот же способ, что и со строками, к последнему объекту в списке vlans, применяется метод ```split()```. Но, на этот раз, внутри скобок указывается другой разделитель - запятая.
В итоге, в списке vlans, находятся номера VLAN.

У метода ```split()``` есть ещё одна хорошая особенность: по умолчанию, метод разбивает строку не по одному пробелу, а по любому количеству пробелов.
Это будет очень полезным при обработке команд show. Например:
```python
In [58]: sh_ip_int_br = "FastEthernet0/0            15.0.15.1       YES manual up                    up"

In [59]: sh_ip_int_br.split()
Out[59]: ['FastEthernet0/0', '15.0.15.1', 'YES', 'manual', 'up', 'up']
```

А вот так выглядит разделение той же строки, когда один пробел используется как разделитель:
```
In [60]: sh_ip_int_br.split(' ')
Out[60]:
['FastEthernet0/0', '', '', '', '', '', '', '', '', '', '', '', '15.0.15.1', '', '', '', '', '', '', 'YES', 'manual', 'up', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'up']
```

