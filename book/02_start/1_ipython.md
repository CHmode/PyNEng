##Интерпретатор Python. iPython

Интерпретатор позволяет получать моментальный отклик на выполненные действия.

Можно сказать, что интерпретатор работает как командная строка сетевых устройств: каждая команда будет выполняться сразу после нажатия enter (по крайней мере, похоже на cisco).

Но для интерпретатора Python есть исключение: более сложные объекты (например, циклы, функции) выполняются, только после нажатия enter два раза..

В предыдущем разделе, для проверки установки Python, вызвался стандартный интерпретатор.

Но, кроме него, в Python есть усовершенствованный интерпретатор iPython ([документация iPython](http://ipython.readthedocs.io/en/stable/index.html)).

iPython позволяет намного больше, чем стандартный интерпретатор, который вызывается по команде python.

Несколько примеров (возможности ipython намного шире):
* автопродолжение команд по Tab или подсказка, если вариантов команд несколько
* более структурированный и понятный вывод команд
* автоматические отступы в циклах и других объектах
* история выполнения команд
  * по ней можно передвигаться
  * или посмотреть "волшебной" командой %history

Установить iPython можно с помощью pip (если виртуальная машина устанавливается с нуля):
```
apt-get install python-pip python-dev 
pip install —upgrade pip 
pip install ipython
```

Если с установкой ipython возникают проблемы, после которых не работает pip, выполните такие действия:

Если ставили через apt pip, то надо его удалить:
```
apt-get remove python-pip
```

После этого заново переустановить pip и установить ipython таким образом:
```
wget https://bootstrap.pypa.io/get-pip.py
python get-pip.py
apt-get install python-dev
pip install ipython
```


__Далее как интерпретатор будет использоваться iPython.__


Для знакомства с интерпретатором можно попробовать его использовать как калькулятор:
```python
In [1]: 1 + 2
Out[1]: 3

In [2]: 22*45
Out[2]: 990

In [3]: 2**3
Out[3]: 8
```

В iPython ввод и вывод подписаны:
* In - это то, что написал пользователь
* Out - это вывод команды (если он есть)
* Числа после In и Out это нумерация выполненных команд в текущей сессии iPython
 
Пример вывода строки:
```python
In [4]: print 'Hello!'
Hello!
```

Когда в интерпретаторе создается, например, цикл, то внутри цикла приглашение меняется на ```...```.
Для выполнения цикла и выхода из этого подрежима, необходимо дважды нажать Enter:
```python
In [5]: for i in range(5):
   ...:     print i
   ...:     
0
1
2
3
4
```

### print

Оператор print позволяет вывести информацию на стандартный поток вывода.

Если необходимо вывести строку, то ее нужно обязательно заключить в кавычки (двойные или одинарные). Если же нужно вывести, например, результат вычисления или просто число, то кавычки не нужны:
```python
In [6]: print 'Hello!'
Hello!

In [7]: print 5*5
25
```

Если нужно вывести несколько значений, можно перечислить их через запятую:
```python
In [8]: print 1*5, 2*5, 3*5, 4*5
5 10 15 20

In [9]: print 'one', 'two', 'three'
one two three
```

По умолчанию, в конце выражения будет перевод строки.
Если необходимо, чтобы после вывода выражения не было перевода строки, то в конце команды ставится запятая (обратите внимание, что в интепретаторе это незаметно. Поэтому лучше это попробовать в файле).

Допустим, есть файл file4.py (обратите внимание на запятую после первой строки):
```python
print 'Hello!',
print 'Hello!'
```

Тогда при выполнении скрипта, вывод будет выглядеть так (после первого Hello нет перевода строки, но есть пробел):
```python
Hello! Hello!
```

> Как создавать скрипты рассматривается в разделе [Создание базовых скриптов](../book/04_basic_scripts/).

### dir
Команда dir() может использоваться для того, чтобы посмотреть какие атрибуты и методы есть у объекта.

Например, для числа вывод будет таким (обратите внимание на различные методы, которые позволяют делать арифметические операции):
```python
In [10]: dir(5)
Out[10]: 
['__abs__',
 '__add__',
 '__and__',
 ...
 'bit_length',
 'conjugate',
 'denominator',
 'imag',
 'numerator',
 'real']
```

Для строки:
```python
In [11]: dir('hello')
Out[11]: 
['__add__',
 '__class__',
 '__contains__',
 ...
 'startswith',
 'strip',
 'swapcase',
 'title',
 'translate',
 'upper',
 'zfill']
```

Если выполнить команду без передачи значения, то она показывает существующие методы, атрибуты и переменные, определенные в текущей сессии интерпретатора:
```python
In [12]: dir()
Out[12]: 
[ '__builtin__',
 '__builtins__',
 '__doc__',
 '__name__',
 '_dh',
 ...
 '_oh',
 '_sh',
 'exit',
 'get_ipython',
 'i',
 'quit']
```

Пример после создания переменной __a__ и функции __test__:
```python
In [13]: a = 'hello'

In [14]: def test():
   ....:     print 'test'
   ....:     

In [15]: dir()
Out[15]: 
 ...
 'a',
 'exit',
 'get_ipython',
 'i',
 'quit',
 'test']
```
