## Символы повторения

* ```regex*``` - ноль или более повторений предшествующего элемента
* ```regex+``` - одно или более повторений предшествующего элемента
* ```regex?``` - ноль или одно повторение предшествующего элемента
* ```regex{n}``` - ровно n повторений предшествующего элемента
* ```regex{n,m}``` - от n до m повторений предшествующего элемента
* ```regex{n, }``` - n или более повторений предшествующего элемента


### ```*```

Звездочка указывает, что предыдущее выражение может повторяться 0 или более раз.

Например, если звездочка стоит после символа, она означает повторение этого символа.

Выражение ```ba*``` означает b, а затем ноль или более повтрений a:
```py
In [38]: line = '100     a011.baaa.a5d3    FastEthernet0/1'

In [39]: re.search('ba*', line).group()
Out[39]: 'baaa'
```

Если в строке line до подстроки baaa встретится b, то совпадением будет b:
```py
In [40]: line = '100     ab11.baaa.a5d3    FastEthernet0/1'

In [41]: re.search('ba*', line).group()
Out[41]: 'b'

```

В этом примере, выражение описывает одну или более цифр и выведены два примера: с использованием метода search, чтобы найти только первое совпадение и с использованием search, чтобы получить все совпадения:
```py
In [42]: line = '100     ab11.baaa.a5d3    FastEthernet0/1'

In [43]: re.search('[0-9][0-9]*', line).group()
Out[43]: '100'

In [44]: re.search('[0-9][0-9]*', line)
Out[44]: ['100', '11', '5', '3', '0', '1']

```


### ```+```

Плюс указывает, что предыдущее выражение может повторяться сколько угодно раз, но, как минимум, один раз.

В таком виде, повторение относится к букве a:
```py
In [45]: line = '100     aab1.a1a1.a5d3    FastEthernet0/1'

In [46]: re.search('a+', line).group()
Out[46]: 'aa'
```

А в этом выражении, повторяется строка 'a1'
```py
In [47]: line = '100     aab1.a1a1.a5d3    FastEthernet0/1'

In [48]: re.search('(a1)+', line).group()
Out[48]: 'a1a1'

```


Выражение ```[0-9]+ +[a-f0-9.]+``` описывает строку, в которой сначала идут цифры, затем пробелы, а потом буквы a-f, цифры или точка:
```py
In [49]: line = '100     aab1.a1a1.a5d3    FastEthernet0/1'

In [50]: re.search('[0-9]+ +[a-f0-9.]+', line).group()
Out[50]: '100     aab1.a1a1.a5d3'

```

### ```{n}```

С помощью фигурных скобок можно указать сколько должно повторяться предшествующее выражение.

Например, изменим предыдущее выражение, и укажем, что должно быть ровно три цифры:
```py

In [51]: line = '100     aab1.a1a1.a5d3    FastEthernet0/1'

In [52]: re.search('[0-9]{3} +[a-f0-9.]+', line).group()
Out[52]: '100     aab1.a1a1.a5d3'

```

Число три в фигурных скобках означает, что предыдущее выражение должно повторяться 3 раза. В данном случае, это значит, что должны идти подряд три цифры.

Если изменить строку line и указать номер VLAN 1500, совпадением будет 500:
```py
In [53]: line = '1500     aab1.a1a1.a5d3    FastEthernet0/1'

In [54]: re.search('[0-9]{3} +[a-f0-9.]+', line).group()
Out[54]: '500     aab1.a1a1.a5d3'

```

Тут пригодится еще одна форма повторения.
В фигурных скобках можно указать два числа через запятую.

Например, выражение ```[0-9]{1,4}``` означает, что должны идти от одной до четырех цифр:
```py
In [55]: line = '1500     aab1.a1a1.a5d3    FastEthernet0/1'

In [56]: re.search('[0-9]{1,4} +[a-f0-9.]+', line).group()
Out[56]: '1500     aab1.a1a1.a5d3'

```

