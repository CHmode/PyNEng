# Задания

{% include "../exercises_intro.md" %}


### Задание 20.1

Переделать задание 12.3b таким образом, чтобы проверка доступности устройств
выполнялась не последовательно, а параллельно.

Для этого, необходимо взять за основу функцию check_ip_addresses из задания 11.3.
Функцию надо переделать таким образом, чтобы проверка IP-адресов выполнялась
параллельно в разных потоках.

Функция check_ip_addresses ожидает как аргумент список IP-адресов.
И возвращает два списка:
* список доступных IP-адресов
* список недоступных IP-адресов

Если какие-то IP-адреса недоступны, функция send_commands должна
вывести сообщение с информацией о том, какие адреса недоступны.


### Задание 20.1a

Переделать функцию check_ip_addresses из задания 20.1 таким образом,
чтобы она позволяла контролировать количество параллельных проверок IP.

Для этого, необходимо добавить новый параметр limit,
со значением по умолчанию - 2.

Функция check_ip_addresses должна проверять адреса из списка
таким образом, чтобы в любой момент времени максимальное количество
параллельных проверок было равным limit.


### Задание 20.2

Создать функцию conn_threads, которая запускает функцию send_commands из задания 19.3 в разных потоках.

Функция conn_threads должна возвращать словарь с результатами выполнения команд на устройствах:

* ключ - IP устройства
* значение - вывод с выполнением команд

### Задание 20.2a


Переделать функцию conn_threads  из задания 20.2 таким образом, чтобы с помощью аргумента limit, можно было указывать сколько подключений будут выполняться параллельно.
По умолчанию, значение аргумента должно быть 2.


